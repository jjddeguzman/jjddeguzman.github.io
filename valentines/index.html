<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Will You Be My Valentine?</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #ffe6e6;
        font-family: "Dancing Script", cursive;
      }

      h1 {
        color: #d63384;
        z-index: 20;
        font-size: 3rem;
        text-shadow: 2px 2px #fff;
        text-align: center;
        padding: 0 20px;
      }

      .heart-particle {
        position: fixed;
        top: -20px;
        color: #ff4d6d;
        user-select: none;
        pointer-events: none;
        z-index: 1;
        animation: fall linear forwards;
      }

      @keyframes fall {
        to {
          transform: translateY(110vh);
        }
      }

      .btn-container {
        width: 100%;
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        z-index: 30;
        position: relative;
      }

      button {
        padding: 12px 35px;
        font-size: 1.5rem;
        font-family: "Dancing Script", cursive;
        font-weight: bold;
        border-radius: 50px;
        border: none;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        transition: 0.2s;
        min-width: 120px;
      }

      #yesBtn {
        background-color: #ff4d6d;
        color: white;
      }

      #noBtn {
        background-color: #adb5bd;
        color: white;
        position: relative;
        -webkit-tap-highlight-color: transparent;
        transition: none; /* Removed transition to make the "jump" instant */
      }

      #success-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #fff0f0;
        z-index: 100;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.8s ease-in forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      #success-overlay img {
        max-width: 80%;
        max-height: 40vh;
        border-radius: 20px;
        border: 5px solid white;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      #letter-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 200;
        align-items: center;
        justify-content: center;
        padding: 20px;
        backdrop-filter: blur(5px);
      }

      .letter-content {
        background: #fff9e6;
        padding: 30px;
        width: 90%;
        max-width: 450px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        position: relative;
        max-height: 85vh;
        overflow-y: auto;
        color: #444;
        text-align: left;
        border: 2px solid #d63384;
      }

      .close-letter {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 2rem;
        cursor: pointer;
        color: #d63384;
      }
      .pulse {
        animation: pulse-animation 2s infinite;
        margin-top: 15px;
      }
      @keyframes pulse-animation {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 2.2rem;
        }
        .btn-container {
          gap: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div id="main-content">
      <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>
      <div class="btn-container">
        <button id="yesBtn" onclick="celebrate()">Yes</button>
        <button id="noBtn">No</button>
      </div>
    </div>

    <div id="success-overlay">
      <h1>Thank you for choosing me, today and every day. ü•∞</h1>
      <img src="./assets/je-and-cy.jpeg" alt="Celebration" />
      <p
        style="
          font-size: 1.8rem;
          color: #d63384;
          margin-top: 10px;
          text-align: center;
          padding: 0 20px;
        "
      >
        I promise to love you more with every passing day. ‚ù§Ô∏è
      </p>
      <button
        class="pulse"
        onclick="openLetter()"
        style="background-color: #d63384; color: white"
      >
        Read My Letter ‚úâÔ∏è
      </button>
    </div>

    <div id="letter-modal">
      <div class="letter-content">
        <span class="close-letter" onclick="closeLetter()">&times;</span>
        <h2 style="color: #d63384; margin-top: 0">To My Dearest,</h2>
        <p style="font-size: 1.3rem; line-height: 1.5">
          As we celebrate 4 years and 2 months together since that special day
          on December 1, 2021, I wanted to take a moment to tell you how much
          you truly mean to me. Every day since then has been a blessing.
        </p>
        <p style="font-size: 1.3rem; line-height: 1.5">
          Thank you for all the sacrifices you've made for us and for the
          endless happiness you bring into my life. You are my greatest support
          and my favorite person to share this journey with.
        </p>

        <div
          style="
            background: rgba(214, 51, 132, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            border: 1px dashed #d63384;
          "
        >
          <p
            style="
              margin: 0;
              font-size: 1rem;
              color: #555;
              font-family: sans-serif;
            "
          >
            Since Dec 1, 2021:
          </p>
          <p
            style="
              margin: 5px 0 0 0;
              font-size: 2.2rem;
              color: #d63384;
              font-weight: bold;
            "
          >
            4 Years & 2 Months
          </p>
          <p
            style="
              margin: 0;
              font-size: 0.9rem;
              color: #777;
              font-family: sans-serif;
            "
          >
            (1,536 days of us)
          </p>
        </div>

        <p
          style="
            font-size: 1.8rem;
            color: #d63384;
            font-weight: bold;
            text-align: center;
            margin: 25px 0;
          "
        >
          I love you 3000. ‚ù§Ô∏è
        </p>
        <p style="text-align: right; font-size: 1.4rem; margin-top: 20px">
          Always yours, <br />
          Lablab Je
        </p>
      </div>
    </div>

    <script>
      const noBtn = document.getElementById("noBtn");

      const moveButton = (e) => {
        if (e) e.preventDefault();

        // Ensure it uses absolute positioning to move freely
        noBtn.style.position = "fixed";

        const btnWidth = noBtn.offsetWidth;
        const btnHeight = noBtn.offsetHeight;

        // Padding to keep button away from screen edges
        const padding = 20;
        const maxX = window.innerWidth - btnWidth - padding;
        const maxY = window.innerHeight - btnHeight - padding;

        const randomX = Math.floor(Math.random() * (maxX - padding)) + padding;
        const randomY = Math.floor(Math.random() * (maxY - padding)) + padding;

        noBtn.style.left = `${randomX}px`;
        noBtn.style.top = `${randomY}px`;
      };

      noBtn.addEventListener("mouseover", moveButton);
      noBtn.addEventListener("touchstart", moveButton);

      function celebrate() {
        document.getElementById("success-overlay").style.display = "flex";
        const duration = 5 * 1000;
        const animationEnd = Date.now() + duration;
        const defaults = {
          startVelocity: 30,
          spread: 360,
          ticks: 60,
          zIndex: 200,
        };
        const interval = setInterval(function () {
          const timeLeft = animationEnd - Date.now();
          if (timeLeft <= 0) return clearInterval(interval);
          const particleCount = 50 * (timeLeft / duration);
          confetti({
            ...defaults,
            particleCount,
            origin: { x: Math.random(), y: Math.random() - 0.2 },
          });
        }, 250);
      }

      function openLetter() {
        document.getElementById("letter-modal").style.display = "flex";
      }
      function closeLetter() {
        document.getElementById("letter-modal").style.display = "none";
      }

      function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart-particle");
        const icons = ["‚ù§Ô∏è", "üíñ", "üíù", "üíï"];
        heart.innerText = icons[Math.floor(Math.random() * icons.length)];
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = Math.random() * 2 + 3 + "s";
        heart.style.opacity = Math.random() * 0.5 + 0.5;
        heart.style.fontSize = Math.random() * 15 + 15 + "px";
        document.body.appendChild(heart);
        setTimeout(() => {
          heart.remove();
        }, 5000);
      }
      setInterval(createHeart, 300);
    </script>
  </body>
</html>
